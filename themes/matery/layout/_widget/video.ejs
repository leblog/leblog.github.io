<link rel="stylesheet" href="<%- theme.libs.css.dplayer %>">
<div class="video-player">
    <% if (theme.video.showTitle) { %>
    <div class="title center-align">
        <i class="fa fa-video-camera"></i>&nbsp;&nbsp;<%- theme.video.title %>
    </div>
    <% } %>
    <div class="row">
        <div class="col l8 offset-l2 m10 offset-m1 s12">
            <!-- 播放器容器 -->
            <div class="bilibili-player-container" id="playerContainer">
            <iframe 
                id="bilibiliIframe"
                src="//player.bilibili.com/player.html?isOutside=true&aid=728164053&bvid=BV1dS4y1n7VP&cid=766205505&p=1" 
                scrolling="no" 
                border="0" 
                frameborder="no" 
                framespacing="0" 
                allowfullscreen="true"
            ></iframe>
            </div>
        </div>
    </div>
</div>




<script>
// 视频宽高比（16:9）
const ASPECT_RATIO = 9 / 16;

// 计算并设置iframe宽高
function setPlayerSize() {
  const container = document.getElementById('playerContainer');
  const iframe = document.getElementById('bilibiliIframe');
  
  // 获取容器宽度（自适应父元素）
  const containerWidth = container.clientWidth;
  
  // 计算高度（宽度 × 比例）
  const containerHeight = containerWidth * ASPECT_RATIO;
  
  // 设置iframe宽高
  iframe.style.width = `${containerWidth}px`;
  iframe.style.height = `${containerHeight}px`;
}

// 初始化时执行
setPlayerSize();

// 监听窗口大小变化，实时调整
window.addEventListener('resize', setPlayerSize);
</script>

<style>
/* 容器样式：限制最大宽度，避免过大 */
.bilibili-player-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0;
}

/* 移除iframe默认样式干扰 */
#bilibiliIframe {
  border: none;
  display: block; /* 避免底部留白 */
}
</style>

<!--<script src="<%- theme.libs.js.dplayer %>"></script>
<script>
    $(function () {
        new DPlayer({
            container: document.getElementById('dplayer'),
            autoplay: '<%- theme.video.autoplay %>' === 'true',
            theme: '<%- theme.video.theme %>',
            loop: '<%- theme.video.loop %>' === 'true',
            lang: '<%- config.language %>' === 'zh-CN' ? 'zh-cn' : 'en',
            preload: '<%- theme.video.preload %>',
            volume: Number('<%- theme.video.volume %>'),
            video: {
                url: '<%- theme.video.url %>',
                pic: '<%- theme.video.pic %>',
                thumbnails: '<%- theme.video.thumbnails %>'
            }
        });
    });
</script>-->